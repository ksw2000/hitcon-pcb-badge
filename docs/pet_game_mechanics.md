# 設備條件
畫面 8x16 
LED燈藍色和紅色，一台只有一種顏色

# 遊戲機制

- 第一次進入遊戲，可以選擇要孵狗蛋還是貓蛋
- 選擇後開始計搖晃次數，顯示孵蛋進度條（計次400下後孵蛋成功）
    - Global 晃動次數。
- 若孵蛋成功，再次進入遊戲畫面時即可看到你的寵物
    - Optional: 孵蛋成功小動畫（Justin 要畫嗎)
        > Yee (ok)
- 寵物有「生命值」、「等級」、「飽食度」三個數值
    - 生命值：三顆心，生命值歸零寵物進入虛弱狀態
        - aka, 能輸幾次
    - 飽食度：全滿為4，每1小時扣1飽食度，若飽食度歸零寵物進入虛弱畫面（不顯示，隱藏數值）
    - 等級：初始為1等，滿等999等
        - 步數升級公式 (可2選1)
    
  1. (如果很麻煩可以簡單暴力) 500步升1等
  2. 自創一個步數公式，Gemini建議 https://gemini.google.com/share/4625026bbfe0
  >  我們採用「總經驗值制」，每一步都算作 1 點經驗值 (XP)。升級所需的總經驗值遵循非線性成長。
  >  升到下一級 (L+1) 所需的步數（經驗值）公式為：
  > StepsForNextLevel(L)=TotalStepsForLevel(L+1)−TotalStepsForLevel(L)
其中，升到等級 L 所需的總步數公式為：
TotalStepsForLevel(L)=80×(L−1) 
1.5
 +100(當 L>1)
80：基礎係數，可調整整體難度。
1.5：指數，決定了曲線的陡峭程度，1.5 可確保中後期成長顯著變慢。
100：初始步數，讓升到 Lv.2 只需要 100 步，給予玩家立即的成就感。




-  可做行動
    - 訓練：進度條 QTE，若5次全中增加1等
        - 若成功3次增加1等，成功5次增加10 等
    - 餵食：可愛動畫，增加一格飽實度，畫面顯示你是一個好駭客
    - 戰鬥
        - 雙方進入戰鬥畫面，對接後顯示「Are you ready?」 任何一方按確認後進入戰鬥畫面
            > too many words, changed to icon - Yee (ok)
        - 戰鬥方式：NBA shot meter (Aoaa 看得懂)
            - 對戰方式：
                - Hitbox 每次隨機出現，下方指示物會來回走一次，玩家需要在下方指示物對準Hitbox時按下確認鍵，才算成功。
                - 指示物來回走一次以後會改變hitbox位子
                - 此過程進行5次後計分
            - 對戰後計算
                - John 負責算函數，或可參考 https://gemini.google.com/share/4625026bbfe0
                >為了實現「技術 > 等級」，我們設計一個「戰力指數 (Power Score)」，指數高者獲勝。
PowerScore=(成功次數×SkillWeight) 
2
 +(等級×LevelWeight)
考量到 PCB Badge 的運算能力，我們可以使用簡化且有效的整數運算：
PowerScore=(成功次數) 
3
 ×10+等級
成功次數 (S)：範圍 0-5。使用 三次方 可極大化技術的影響力。
10：技術權重係數，確保 S 的增長效益遠超等級。
等級 (L)：範圍 1-999。作為次要的決勝因素。

                - 兩個數字比大小，贏者勝 
                    - 一局比大小結束
                - 若成功次數為4次，有50%機率引發爆擊
                - 若成功次數為5次，有100%機率引發爆擊，直接讓對方進入虛弱狀態
                - 贏的一方提升3等
- 小駭客中心(寶可夢中心)：Badge與寶可夢中心對接，補滿三顆心和飽食度
- 若寵物進入虛弱狀態，降一等，並無法進行任何活動，需要到寶可夢中心回滿血後才可繼續遊戲


# 遊戲功能階層

(孵蛋前)
- 小駭客
    - 畫面顯示選擇狗狗 OR 貓貓，選擇後進入孵蛋進度條

(孵蛋後)
- 小駭客
    - 寵物畫面（希望可以是動畫）
        - 狀態顯示
            - 血條
            - 等級/等級條
            - 飽實度
        - 訓練
        - 餵食
        - 戰鬥

# 畫面需求 for Justin
1. 蛋
2. 孵蛋成功小動畫
3. 狗&貓 (8x16的版面都可以用，希望可以動)
4. 貓虛弱畫面/狗虛弱畫面
5. 寶可夢中心 (愛心跑馬燈之類的)

---


### 跨版對戰相關

> 註：畫面不用額外刻

1. tama APP pet idle 狀態下，偵測板子是否對插 
    * 參考畫面 ![截圖 2025-07-06 下午6.23.48](https://hackmd.io/_uploads/H1bp06PHxe.jpg)
2. 確認對插，跳出戰鬥確認頁面 
    * ![截圖 2025-07-06 下午6.24.52](https://hackmd.io/_uploads/rkWWyAPHxg.jpg)

3. 雙方確認戰鬥，==交換寵物種類==。(按退出則回 tama app pet idle) 
4. 進入戰鬥對峙互看頁面
    * ![截圖 2025-07-06 下午6.25.25](https://hackmd.io/_uploads/H1emyCwSgg.jpg)
5. 畫面 delay 幾秒後跳出 "Battle start" page
6. "Battle start" page 過幾秒內進入 QTE game page
7. 進行五次 QTE，統計成功次數(需計時 timeout)
8. 完成QTE的，等待 









